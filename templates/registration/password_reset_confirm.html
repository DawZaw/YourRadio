{% extends 'base_generic.html' %}

{% block content %}
{% if validlink %}
  <div class='d-flex justify-content-center align-items-center' style="height:75vh;">
    <div class='m-auto border rounded shadow' style="width:375px">
        <form action="" method="post">
            {% csrf_token %}
            <div class="d-flex flex-column rounded">
                <div class="bg-dark text-light rounded-top p-2">
                    <h3>Reset password</h3>
                </div>
                <div class="form-group px-3">
                    <input type="password" name="new_password1" id="" placeholder="New password" class="form-control my-2">
                    {% if form.errors.new_password1 %}
                        <p class='text-danger'>{{ form.errors.new_password.as_text }}</p>
                    {% endif %}
                    <input type="password" name="new_password2" id="" placeholder="Confirm password" class="form-control my-2">
                    {% if form.errors.new_password2 %}
                        <p class='text-danger'>{{ form.errors.new_password.as_text }}</p>
                    {% endif %}
                    <input type="submit" value="Submit" class="btn btn-outline-secondary mb-2 w-100">
                    <input type="hidden" name="next" value={{ next }}>
                </div>
            </div>
        </form>
    </div>
</div>
{% else %}
<div class='d-flex justify-content-center align-items-center' style="height:75vh;">
    <div class='m-auto border rounded shadow' style="width:400px">
        <div class="d-flex flex-column rounded">
            <div class="bg-dark text-light rounded-top p-2">
                <h3>Password reset failed</h3>
            </div>
            <div class="px-3 my-2">
                <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock content %}
